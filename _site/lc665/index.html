<!DOCTYPE html>
<html>
  <head>
    <title>LeetCode 665. Non-decreasing Array – Hengchang's Tech Blog – Victory Loves Preparation.</title>
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v3.8.7" />
<meta property="og:title" content="LeetCode 665. Non-decreasing Array" />
<meta name="author" content="Hengchang Hu" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Description: Given an array nums with n integers, your task is to check if it could become non-decreasing by modifying at most 1 element." />
<meta property="og:description" content="Description: Given an array nums with n integers, your task is to check if it could become non-decreasing by modifying at most 1 element." />
<link rel="canonical" href="http://localhost:4000/tech_blog/lc665/" />
<meta property="og:url" content="http://localhost:4000/tech_blog/lc665/" />
<meta property="og:site_name" content="Hengchang’s Tech Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-01-22T00:00:00-05:00" />
<script type="application/ld+json">
{"url":"http://localhost:4000/tech_blog/lc665/","headline":"LeetCode 665. Non-decreasing Array","dateModified":"2020-01-22T00:00:00-05:00","datePublished":"2020-01-22T00:00:00-05:00","author":{"@type":"Person","name":"Hengchang Hu"},"description":"Description: Given an array nums with n integers, your task is to check if it could become non-decreasing by modifying at most 1 element.","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/tech_blog/lc665/"},"@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

        <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta property="og:description" content="Description:
Given an array nums with n integers, your task is to check if it could become non-decreasing by modifying at most 1 element.

" />
    
    <meta name="author" content="Hengchang's Tech Blog" />

    
    <meta property="og:title" content="LeetCode 665. Non-decreasing Array" />
    <meta property="twitter:title" content="LeetCode 665. Non-decreasing Array" />
    

    
    <meta property="og:image" content="http://localhost:4000"/>
    <meta property="twitter:image" content="http://localhost:4000"/>
    
    <meta property="og:site_name" content="Amit Merchant - Software Engineer"/>


    <link rel="stylesheet" type="text/css" href="/tech_blog/assets/style.css" />
    <link rel="alternate" type="application/rss+xml" title="Hengchang's Tech Blog - Victory Loves Preparation." href="/tech_blog/feed.xml" />
    <link rel="canonical" href="http://localhost:4000/lc665/" />

    <meta name="theme-color" content="#000000">
    <link rel="icon" type="image/png" sizes="32x32" href="/tech_blog/images/favicon-32x32.png">
  </head>

  <body>
    <div id="bar"></div>
    <div class="wrapper-container">
      <div class="wrapper-masthead">
        <div class="container">
          <header class="masthead clearfix">
            <a href="/tech_blog/" class="site-avatar"><img src="/tech_blog" alt="" /></a>

            <div class="site-info">
              <h1 class="site-name"><a href="/tech_blog/">Hengchang's Tech Blog</a></h1>
              <p class="site-description">Victory Loves Preparation.</p> 
            </div>

            <nav>
              <a href="/tech_blog/">Home</a>
              <a href="/tech_blog/search">Search</a>
              <a href="/tech_blog/about">About</a>
            </nav>
          </header>
        </div>
      </div>

      <div class="wrapper-main">
        <div id="main" role="main" class="container">
          <article class="post detailed">
  <h1>LeetCode 665. Non-decreasing Array</h1>

  <div>
    <p class="author_title">Hengchang Hu  ·  January 22, 2020</p>
    
    <div class="post-tags">
      
      
        <a href="/tech_blog/categories/#Greedy Algorithm">Greedy Algorithm</a>
        
      
    </div>
  </div>
    
  <div class="entry">
    <h2 id="description">Description:</h2>
<p>Given an array nums with n integers, your task is to check if it could become non-decreasing by modifying at most 1 element.</p>

<p>We define an array is non-decreasing if <code class="language-plaintext highlighter-rouge">nums[i] &lt;= nums[i + 1]</code> holds for every <code class="language-plaintext highlighter-rouge">i</code> (0-based) such that <code class="language-plaintext highlighter-rouge">(0 &lt;= i &lt;= n - 2)</code>.</p>

<h2 id="example">Example:</h2>
<p>Input: <code class="language-plaintext highlighter-rouge">nums = [4,2,3]</code></p>

<p>Output: <code class="language-plaintext highlighter-rouge">True</code></p>

<p>Input: <code class="language-plaintext highlighter-rouge">nums = [4,2,1]</code></p>

<p>Output: <code class="language-plaintext highlighter-rouge">False</code></p>

<h2 id="solution-explanation">Solution Explanation:</h2>
<p>Obviously this problem can be done by only go through the whole array once, only problem is how can we make sure that modifying one element will not affect other elements. Two edge cases are simple, the beginning and the end of array, if they are not smaller than next element or not bigger than previous element, you can just skip them and add one to violation count <code class="language-plaintext highlighter-rouge">chance -= 1</code>. How about the elements in middle?</p>

<p>Imagine this case, <code class="language-plaintext highlighter-rouge">x1 &lt;= x2 &gt; x3 &lt;= x4</code>. If you make <code class="language-plaintext highlighter-rouge">x2</code> smaller so that <code class="language-plaintext highlighter-rouge">x2 &lt;= x3</code>, then you have to make sure new <code class="language-plaintext highlighter-rouge">x2</code> will still bigger than <code class="language-plaintext highlighter-rouge">x1</code>. Also, if you want to make <code class="language-plaintext highlighter-rouge">x3</code> bigger, you have to make sure it won’t affect the truth that <code class="language-plaintext highlighter-rouge">x2 &lt;= x3</code>.</p>

<h2 id="solution">Solution:</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">checkPossibility</span><span class="p">(</span><span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="n">chance</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">i</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">chance</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span>
                    <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">chance</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="k">elif</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]:</span>
                    <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">chance</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">False</span>
        <span class="k">if</span> <span class="n">chance</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
    <span class="k">return</span> <span class="bp">True</span>
</code></pre></div></div>

  </div>

  <div>
    <p><span class="share-box">Share:</span> <a href="http://twitter.com/share?text=LeetCode 665. Non-decreasing Array&url=http://localhost:4000/lc665/" target="_blank">Twitter</a>, <a href="https://www.facebook.com/sharer.php?u=http://localhost:4000/lc665/" target="_blank">Facebook</a></p>
  </div>

  <!--<div class="date">
    Written on January 22, 2020
  </div>-->

  
</article>

        </div>
      </div>

      <div class="wrapper-footer">
        <div class="container">
          <footer class="footer">
            
<a href="mailto:hengchang1223@gmail.com"><i class="svg-icon email"></i></a>


<a href="https://github.com/hengchang1223"><i class="svg-icon github"></i></a>










          </footer>
        </div>
      </div>
    </div>

    
	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-43339302-11', 'auto');
		ga('send', 'pageview', {
		  'page': '/tech_blog/lc665/',
		  'title': 'LeetCode 665. Non-decreasing Array'
		});
	</script>
	<!-- End Google Analytics -->


  </body>
</html>
